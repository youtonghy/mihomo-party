注:本文档涉及到请求地址仅为参考,请替换为用户选择的后端地址

在商店页面,使用卡片形式横排展现不同套餐

获取套餐:GET https://vpn.200461.xyz/api/v1/user/plan/fetch
示例返回:{"data":[{"id":1,"group_id":1,"transfer_enable":100,"name":"\ud83e\udd1d\u53cb\u60c5\u5957\u9910","device_limit":null,"speed_limit":null,"show":1,"sort":null,"renew":1,"content":"\ud83e\udd1d\u53cb\u60c5\u5957\u9910<\/br>\n\ud83d\udcf6\u9ed8\u8ba4\u6bcf\u6708200GB<\/br>\n\ud83c\ude32\u7981\u6b62BT<\/br>\n\ud83d\udd0c\u65e0SLA\u4fdd\u8bc1<\/br>","month_price":null,"quarter_price":null,"half_year_price":null,"year_price":null,"two_year_price":null,"three_year_price":null,"onetime_price":0,"reset_price":null,"reset_traffic_method":0,"capacity_limit":null,"created_at":1695605753,"updated_at":1750645924},{"id":5,"group_id":3,"transfer_enable":1000,"name":"\u6d4b\u8bd5","device_limit":null,"speed_limit":null,"show":1,"sort":null,"renew":1,"content":null,"month_price":1200,"quarter_price":1200,"half_year_price":1200,"year_price":null,"two_year_price":null,"three_year_price":null,"onetime_price":1200,"reset_price":null,"reset_traffic_method":null,"capacity_limit":null,"created_at":1723800301,"updated_at":1754663938}]}

当点击'购买套餐'按钮后,弹出购买窗口确认购买
购买:GET https://vpn.200461.xyz/api/v1/user/plan/fetch?id=1
示例返回:{"data":{"id":1,"group_id":1,"transfer_enable":100,"name":"\ud83e\udd1d\u53cb\u60c5\u5957\u9910","device_limit":null,"speed_limit":null,"show":1,"sort":null,"renew":1,"content":"\ud83e\udd1d\u53cb\u60c5\u5957\u9910<\/br>\n\ud83d\udcf6\u9ed8\u8ba4\u6bcf\u6708200GB<\/br>\n\ud83c\ude32\u7981\u6b62BT<\/br>\n\ud83d\udd0c\u65e0SLA\u4fdd\u8bc1<\/br>","month_price":null,"quarter_price":null,"half_year_price":null,"year_price":null,"two_year_price":null,"three_year_price":null,"onetime_price":0,"reset_price":null,"reset_traffic_method":0,"capacity_limit":null,"created_at":1695605753,"updated_at":1750645924}}

购买窗口可以选择付款周期,以及填写优惠码,填写完成后鼠标失焦自动验证
验证优惠码:POST https://vpn.200461.xyz/api/v1/user/coupon/check
示例返回(无效):{
    "message": "\u4f18\u60e0\u5238\u65e0\u6548"
}

点击下单按钮后:
创建订单:POST https://vpn.200461.xyz/api/v1/user/order/save
示例请求(周期与ID):period=onetime_price&plan_id=1
示例返回(订单号):{"data":"2025090415093231566381577"}
然后刷新窗口内容为付款页面

付款页面:
请求内容(使用订单号):GET https://vpn.200461.xyz/api/v1/user/order/detail?trade_no=2025090415093231566381577
示例响应:{"data":{"id":42,"invite_user_id":null,"user_id":1,"plan_id":1,"coupon_id":null,"payment_id":null,"type":1,"period":"onetime_price","trade_no":"2025090415093231566381577","callback_no":null,"total_amount":0,"handling_amount":null,"discount_amount":null,"surplus_amount":null,"refund_amount":null,"balance_amount":null,"surplus_order_ids":null,"status":0,"commission_status":0,"commission_balance":0,"actual_commission_balance":null,"paid_at":null,"created_at":1756970732,"updated_at":1756970732,"plan":{"id":1,"group_id":1,"transfer_enable":100,"name":"\ud83e\udd1d\u53cb\u60c5\u5957\u9910","device_limit":null,"speed_limit":null,"show":1,"sort":null,"renew":1,"content":"\ud83e\udd1d\u53cb\u60c5\u5957\u9910<\/br>\n\ud83d\udcf6\u9ed8\u8ba4\u6bcf\u6708200GB<\/br>\n\ud83c\ude32\u7981\u6b62BT<\/br>\n\ud83d\udd0c\u65e0SLA\u4fdd\u8bc1<\/br>","month_price":null,"quarter_price":null,"half_year_price":null,"year_price":null,"two_year_price":null,"three_year_price":null,"onetime_price":0,"reset_price":null,"reset_traffic_method":0,"capacity_limit":null,"created_at":1695605753,"updated_at":1750645924},"try_out_plan_id":0}}
获取支付方式:GET https://vpn.200461.xyz/api/v1/user/order/getPaymentMethod
示例返回:{"data":[{"id":1,"name":"\u70b9\u6211\u5c31\u884c","payment":"EPay","icon":null,"handling_fee_fixed":null,"handling_fee_percent":null}]}
显示订单信息,包括订单号和创建时间(DD/MM/YYYY),以及选择支付方式,以及商品信息,报错流量,套餐名称以及总价

结账按钮:
请求:POST https://vpn.200461.xyz/api/v1/user/order/checkout
示例返回(成功开通):{"type":-1,"data":true}
成功开通后刷新弹窗,提示已成功购买,提供一个按钮导航到用户中心

