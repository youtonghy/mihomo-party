[已完成]首先在侧边栏添加一个"用户中心",格式可以参照'外部资源',确保该卡片始终位于第一位.点进去是一个登录界面,可以输入邮箱和密码,还有登录按钮.登录的流程可以参考login.html并且支持将登录地址在某个文件中设置为固定的URL方便我后期更换.登陆后记录token,下次点击'用户中心'跳过登陆界面直接进入用户中心.
[已完成]用户中心可以参照dashboard.exe,但是只保留公告和流量信息.公告要保留点击后弹出小卡片显示.
[已完成]判定用户登陆后,在订阅管理中添加一个订阅更新,订阅地址可参考dashboard.html中的Clash Meta订阅链接.要确保只有登录状态下就有这个订阅并且默认选中,最好可以不能删除.
[已完成]通过GET https://后端地址/api/v1/user/getSubscribe 来请求获取订阅链接,订阅链接在响应的subscribe_url中
[已完成]若账号没有登录,则显示空白占位的用户订阅.若账号退出登录,则使用空白订阅链接替换用户订阅.并且设置用户订阅为每60分钟更新一次.
[已完成]优化一下登陆界面,显示两个输入框,下面是登录按钮.不显示服务器地址.改为添加一个ping服务器地址的测试
[已完成]继续优化登陆界面,不显示邮箱和密码两个字,只在输入框中显示请输入邮箱/密码
[已完成]优化一下登陆页面的服务器连接测试功能,打开页面自动检测一次延迟,用户点击刷新
[已完成]登录以后添加完成用户订阅以后,刷新一下用户订阅,不然用户订阅还是原始空的
[已完成]退出登录以后,请清空之前的用户订阅
[已完成]清空之前的用户订阅不仅要替换订阅链接,还要把现在订阅的内容改为初始默认的本地的空白订阅(包含结构但没有具体内容),这样用户就无法继续使用之前的订阅内容,转而使用默认的空白订阅,也不会因为订阅完全是空的所以内核启动失败报错
[已完成]目前用户登陆以后,已经可以成功添加正确的订阅链接,但是订阅内容还是原始的,因此仍然无法直接使用,请在添加订阅链接后刷新一下订阅获取最新的订阅内容
[已完成]找一下应用设置中的检查更新是如何实现的?是从哪个地址获取最新版版本和进行下载的?方便我后续修改.
[已完成]根据conversation-2025-08-26-115219,修改一下程序的更新地址,参考https://github.com/youtonghy/mihomo-party这个仓库来获取更新和下载
[已完成]移除应用设置中右上角的Telegram群组按钮
[已完成]优化一下用户中心的后端地址,可以一次性设置多个后端地址,默认是第一个,用户可以在登陆页面统一测试延迟,自由选择使用哪个后端地址
[已完成]移除应用设置中的'用户中心后端设置',转而在用户中心的登录页面的下方显示:可以选择多个设置好的服务器,在页面加载1秒钟后统一测试ping值,自动选择ping值最低的.用户也可以手动点击选择.